/**
 * @todo Separate sections into modules, then import.
 */

$enable-responsive-font-sizes: true;
$font-size-base: 1rem;
$h1-font-size: $font-size-base * 2.875; // Works better on Alegreya fonts

@import "~bootstrap/scss/bootstrap";

// Enables footer to stick to bottom
#__next {
  position: absolute;
  min-height: 100%;
  width: 100%;
  @extend .d-flex;
  @extend .flex-column;
}

// Navbar styles
.signature {
  font-family: "Dawning of a New Day", cursive;
  @include font-size($h2-font-size);
  img {
    @extend .d-inline-block;
    @extend .align-top;
    @extend .mr-3;
    height: 1.5em;
  }
}
.github-nav-link {
  @include font-size($h4-font-size);
}
@if $emphasized-link-hover-darken-percentage != 0 {
  a.github-nav-link {
    @include hover-focus() {
      color: #333 !important;
    }
  }
}

// Home page styles
.greeting {
  font-family: "Alegreya", serif;
  @extend .display-3;
}
.cap-lg-49 {
  @include media-breakpoint-up(lg) {
    max-width: 49rem;
  }
}

// Blog styles
.essay-preview {
  @extend .position-relative;
  &:not(:last-child) {
    @extend .mb-5;
  }
  h2 a {
    @extend .text-reset;
    @extend .stretched-link;
  }
  h3,
  p {
    @extend .text-muted;
  }
  small {
    @extend .font-italic;
  }
}
.ipynb {
  .language-python {
    @extend .border;
  }
  .language-plaintext {
    color: white;
    background: black;
    @extend .rounded;
    max-height: 22.2rem;
  }
  p + pre,
  p + .data-table,
  p + img {
    margin-top: 2rem;
  }
  pre,
  .data-table,
  img {
    margin-top: 0.5rem;
    margin-bottom: 0.5rem;
  }
  pre + p,
  .data-table + p,
  img + p {
    margin-top: 2rem;
  }
  .data-table p {
    margin-bottom: 0;
  }
  h2 {
    margin-top: 2rem;
  }
  th,
  td {
    @extend .p-1;
  }
  td {
    @extend .text-monospace;
  }
}

// Brand-colored links (mostly on /connect)
$brand-colors: (
  "github": #333,
  "twitter": #1da1f2,
  "linkedin": #2867b2,
  "facebook": #3b5998,
  "instagram": #e1306c,
  "codepen": #000000,
  "dev": #08090a,
  "freecodecamp": #0a0a23,
  "gitlab": #fc6d26,
  "kaggle": #20beff,
  "mastodon": #3088d4,
  "medium": rgba(41, 41, 41, 1),
  "npm": #cb3837,
  "spotify": #1db954,
  "stack-exchange": #376db6,
  "telegram": #0088cc,
  "wikipedia": #000000,
  "youtube": #ff0000,
  "paypal": #003087,
);
@each $brand, $color in $brand-colors {
  .#{$brand}-link {
    @if lightness($color) >= 50% {
      color: $color;
      @include hover-focus() {
        color: darken(
          $color,
          $emphasized-link-hover-darken-percentage
        ) !important;
      }
    } @else if lightness($color) >= 20% {
      color: lighten($color, $emphasized-link-hover-darken-percentage);
      @include hover-focus() {
        color: $color !important;
      }
    } @else {
      color: lighten($color, 2 * $emphasized-link-hover-darken-percentage);
      @include hover-focus() {
        color: $color !important;
      }
    }
  }
}
.github-text-link {
  @extend .text-secondary;
  @include hover-focus() {
    color: #333 !important;
  }
}

// Cap max widths of containers
@each $breakpoint, $container-max-width in $container-max-widths {
  .cap-width-#{$breakpoint} {
    @include media-breakpoint-up($breakpoint) {
      max-width: $container-max-width;
    }
  }
}

// Full width containers
@each $breakpoint in map-keys($grid-breakpoints) {
  $infix: breakpoint-infix($breakpoint, $grid-breakpoints);

  @include media-breakpoint-up($breakpoint) {
    .full-width#{$infix} {
      width: 100vw;
      position: relative;
      left: 50%;
      right: 50%;
      margin-left: -50vw;
      margin-right: -50vw;
    }
    .full-width-padded#{$infix} {
      @extend .full-width#{$infix};
      padding-left: $grid-gutter-width / 2;
      padding-right: $grid-gutter-width / 2;
    }
  }
}

// Miscellaneous
p,
li {
  text-align: justify;
}
h1,
.h1 {
  font-family: "Alegreya", serif;
  @extend .mb-3;
}
.tooltip-inner {
  text-align: left;
  max-width: 98vw;
}
hr {
  @extend .border-secondary;
  @extend .my-4;
  width: 5rem;
}
